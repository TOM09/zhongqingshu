<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			//  JS判断时间戳星期几

			function getWeek(date) { 
			    var week; 
			    if(date.getDay() == 0) week = "星期日" 
			    if(date.getDay() == 1) week = "星期一" 
			    if(date.getDay() == 2) week = "星期二" 
			    if(date.getDay() == 3) week = "星期三" 
			    if(date.getDay() == 4) week = "星期四" 
			    if(date.getDay() == 5) week = "星期五" 
			    if(date.getDay() == 6) week = "星期六" 
			    return week; 
			} 
			  
			//时间戳判断时间是几天前
			function getDateTimeBefor(publishtime) { 
		        var currTime = Date.parse(new Date());; 
		        var l = parseInt(currTime) - parseInt(publishtime); 
		        // 少于一分钟 
		        var time = l / 1000; 
		        console.log(time)
//		        if (time < 60) { 
//		            return "刚刚"; 
//		        } 
//		        // 秒转分钟 
//		        var minuies = time / 60; 
//		        if (minuies < 60) { 
//		            return Math.floor(minuies) + "分钟前"; 
//		        } 
//		        // 秒转小时 
//		        var hours = time / 3600; 
//		        if (hours < 24) { 
//		            return Math.floor(hours) + "小时前"; 
//		        } 
		        //秒转天数 
		        var days = time / 3600 / 24; 
		        if (days < 30) { 
		            return Math.floor(days) + "天前"; 
		        } 
		        //秒转月 
		        var months = time / 3600 / 24 / 30; 
		        if (months < 12) { 
		            return Math.floor(months) + "月前"; 
		        } 
		        //秒转年 
		        var years = time / 3600 / 24 / 30 / 12; 
		        return Math.floor(years) + "年前"; 
		    } 
			console.log(getDateTimeBefor(1526548849000)); 
			
		//时间戳转换时间工具  格式为2018-05-17 17:20:49
			function formatDateTime(inputTime) {    
			    var date = new Date(inputTime);  
			    var y = date.getFullYear();    
			    var m = date.getMonth() + 1;    
			    m = m < 10 ? ('0' + m) : m;    
			    var d = date.getDate();    
			    d = d < 10 ? ('0' + d) : d;    
			    var h = date.getHours();  
			    h = h < 10 ? ('0' + h) : h;  
			    var minute = date.getMinutes();  
			    var second = date.getSeconds();  
			    minute = minute < 10 ? ('0' + minute) : minute;    
			    second = second < 10 ? ('0' + second) : second;   
			    return y + '-' + m + '-' + d+' '+h+':'+minute+':'+second;    
			};  
			console.log(formatDateTime(1398250549123)); 
			
			//时间转时间戳
			var date = new Date('2014-04-23 18:55:49:123');
		    // 有三种方式获取
		    var time1 = date.getTime();
		    console.log(time1)
		    
		    //时间戳转时间
			Date.prototype.Format = function (fmt) {  
			    var o = {  
			        "M+": this.getMonth() + 1, //月份   
			        "d+": this.getDate(), //日   
			        "h+": this.getHours(), //小时   
			        "m+": this.getMinutes(), //分   
			        "s+": this.getSeconds(), //秒   
			        "q+": Math.floor((this.getMonth() + 3) / 3), //季度   
			        "S": this.getMilliseconds() //毫秒   
			    };  
			    if (/(y+)/.test(fmt))  
			        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));  
			    for (var k in o) {  
			        if (new RegExp("(" + k + ")").test(fmt)) {  
			            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));  
			        }  
			    }  
			    return fmt;  
			}  
			
			
//			时间戳比大小
			var comp = function(date) {
			var timestamp=new Date().getTime();
		    if (timestamp >= date) {
		        console.log("结束");
		    }  else {
		         console.log("进行中");
		    }
		}
		comp("1524555475000");

//计算年龄
function formatDateTime(inputTime) {    
			    var date = new Date(inputTime);  
			    var y = date.getFullYear();    
			    var date2 = new Date().getFullYear()
			    var nowYear = date2-y;
			    console.log(nowYear)
			    return nowYear;    
			};  
			console.log(formatDateTime(1398250549123));
		</script>
	</body>
</html>
