var kkpager={pagerid:"kkpager",mode:"link",pno:1,total:1,totalRecords:0,isShowFirstPageBtn:true,isShowLastPageBtn:true,isShowPrePageBtn:true,isShowNextPageBtn:true,isShowTotalPage:true,isShowCurrPage:true,isShowTotalRecords:false,isGoPage:true,isWrapedPageBtns:true,isWrapedInfoTextAndGoPageBtn:true,hrefFormer:"",hrefLatter:"",gopageWrapId:"kkpager_gopage_wrap",gopageButtonId:"kkpager_btn_go",gopageTextboxId:"kkpager_btn_go_input",lang:{firstPageText:"首页",firstPageTipText:"首页",lastPageText:"尾页",lastPageTipText:"尾页",prePageText:"上一页",prePageTipText:"上一页",nextPageText:"下一页",nextPageTipText:"下一页",totalPageBeforeText:"共",totalPageAfterText:"页",currPageBeforeText:"当前第",currPageAfterText:"页",totalInfoSplitStr:"/",totalRecordsBeforeText:"共",totalRecordsAfterText:"条数据",gopageBeforeText:"&nbsp;转到",gopageButtonOkText:"确定",gopageAfterText:"页",buttonTipBeforeText:"第",buttonTipAfterText:"页"},getLink:function(a){if(a==1){return this.hrefFormer+this.hrefLatter}return this.hrefFormer+"_"+a+this.hrefLatter},click:function(a){return false},getHref:function(a){return"#"},focus_gopage:function(){var a=$("#"+this.gopageButtonId);$("#"+this.gopageTextboxId).attr("hideFocus",true);a.show();a.css("left","10px");$("#"+this.gopageTextboxId).addClass("focus");a.animate({left:"+=30"},50)},blur_gopage:function(){var a=this;setTimeout(function(){var b=$("#"+a.gopageButtonId);b.animate({left:"-=25"},100,function(){b.hide();$("#"+a.gopageTextboxId).removeClass("focus")})},400)},keypress_gopage:function(){var b=arguments[0]||window.event;var a=b.keyCode||b.charCode;if(a==8){return true}if(a==13){kkpager.gopage();return false}if(b.ctrlKey&&(a==99||a==118)){return true}if(a<48||a>57){return false}return true},gopage:function(){var a=$("#"+this.gopageTextboxId).val();if(isNaN(a)){$("#"+this.gopageTextboxId).val(this.next);return}var b=parseInt(a);if(b<1){b=1}if(b>this.total){b=this.total}if(this.mode=="click"){this._clickHandler(b)}else{window.location=this.getLink(b)}},selectPage:function(a){this._config.pno=a;this.generPageHtml(this._config,true)},generPageHtml:function(h,n){if(n||!this.inited){this.init(h)}var g="",o="",e="",m="";if(this.isShowFirstPageBtn){if(this.hasPrv){g="<a "+this._getHandlerStr(1)+' title="'+(this.lang.firstPageTipText||this.lang.firstPageText)+'">'+this.lang.firstPageText+"</a>"}else{g='<span class="disabled">'+this.lang.firstPageText+"</span>"}}if(this.isShowPrePageBtn){if(this.hasPrv){o="<a "+this._getHandlerStr(this.prv)+' title="'+(this.lang.prePageTipText||this.lang.prePageText)+'">'+this.lang.prePageText+"</a>"}else{o='<span class="disabled">'+this.lang.prePageText+"</span>"}}if(this.isShowNextPageBtn){if(this.hasNext){e="<a "+this._getHandlerStr(this.next)+' title="'+(this.lang.nextPageTipText||this.lang.nextPageText)+'">'+this.lang.nextPageText+"</a>"}else{e='<span class="disabled">'+this.lang.nextPageText+"</span>"}}if(this.isShowLastPageBtn){if(this.hasNext){m="<a "+this._getHandlerStr(this.total)+' title="'+(this.lang.lastPageTipText||this.lang.lastPageText)+'">'+this.lang.lastPageText+"</a>"}else{m='<span class="disabled">'+this.lang.lastPageText+"</span>"}}var l="";var a='<span class="spanDot">...</span>';var c='<span class="totalText">';var k='<span class="totalInfoSplitStr">'+this.lang.totalInfoSplitStr+"</span>";if(this.isShowCurrPage){c+=this.lang.currPageBeforeText+'<span class="currPageNum">'+this.pno+"</span>"+this.lang.currPageAfterText;if(this.isShowTotalPage){c+=k;c+=this.lang.totalPageBeforeText+'<span class="totalPageNum">'+this.total+"</span>"+this.lang.totalPageAfterText}else{if(this.isShowTotalRecords){c+=k;c+=this.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.totalRecords+"</span>"+this.lang.totalRecordsAfterText}}}else{if(this.isShowTotalPage){c+=this.lang.totalPageBeforeText+'<span class="totalPageNum">'+this.total+"</span>"+this.lang.totalPageAfterText;if(this.isShowTotalRecords){c+=k;c+=this.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.totalRecords+"</span>"+this.lang.totalRecordsAfterText}}else{if(this.isShowTotalRecords){c+=this.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.totalRecords+"</span>"+this.lang.totalRecordsAfterText}}}c+="</span>";var j="";if(this.isGoPage){j='<span class="goPageBox">'+this.lang.gopageBeforeText+'<span id="'+this.gopageWrapId+'"><input type="button" id="'+this.gopageButtonId+'" onclick="kkpager.gopage()" value="'+this.lang.gopageButtonOkText+'" /><input type="text" id="'+this.gopageTextboxId+'" onfocus="kkpager.focus_gopage()"  onkeypress="return kkpager.keypress_gopage(event);"   onblur="kkpager.blur_gopage()" value="'+this.next+'" /></span>'+this.lang.gopageAfterText+"</span>"}if(this.total<=8){for(var f=1;f<=this.total;f++){if(this.pno==f){l+='<span class="curr">'+f+"</span>"}else{l+="<a "+this._getHandlerStr(f)+' title="'+this.lang.buttonTipBeforeText+f+this.lang.buttonTipAfterText+'">'+f+"</a>"}}}else{if(this.pno<=5){for(var f=1;f<=7;f++){if(this.pno==f){l+='<span class="curr">'+f+"</span>"}else{l+="<a "+this._getHandlerStr(f)+' title="'+this.lang.buttonTipBeforeText+f+this.lang.buttonTipAfterText+'">'+f+"</a>"}}l+=a}else{l+="<a "+this._getHandlerStr(1)+' title="'+this.lang.buttonTipBeforeText+"1"+this.lang.buttonTipAfterText+'">1</a>';l+="<a "+this._getHandlerStr(2)+' title="'+this.lang.buttonTipBeforeText+"2"+this.lang.buttonTipAfterText+'">2</a>';l+=a;var b=this.pno-2;var d=this.pno+2;if(d>this.total){d=this.total;b=d-4;if(this.pno-b<2){b=b-1}}else{if(d+1==this.total){d=this.total}}for(var f=b;f<=d;f++){if(this.pno==f){l+='<span class="curr">'+f+"</span>"}else{l+="<a "+this._getHandlerStr(f)+' title="'+this.lang.buttonTipBeforeText+f+this.lang.buttonTipAfterText+'">'+f+"</a>"}}if(d!=this.total){l+=a}}}var p="<div>";if(this.isWrapedPageBtns){p+='<span class="pageBtnWrap">'+g+o+l+e+m+"</span>"}else{p+=g+o+l+e+m}if(this.isWrapedInfoTextAndGoPageBtn){p+='<span class="infoTextAndGoPageBtnWrap">'+c+j+"</span>"}else{p+=c+j}p+='</div><div style="clear:both;"></div>';$("#"+this.pagerid).html(p)},init:function(b){this.pno=isNaN(b.pno)?1:parseInt(b.pno);this.total=isNaN(b.total)?1:parseInt(b.total);this.totalRecords=isNaN(b.totalRecords)?0:parseInt(b.totalRecords);if(b.pagerid){this.pagerid=b.pagerid}if(b.mode){this.mode=b.mode}if(b.gopageWrapId){this.gopageWrapId=b.gopageWrapId}if(b.gopageButtonId){this.gopageButtonId=b.gopageButtonId}if(b.gopageTextboxId){this.gopageTextboxId=b.gopageTextboxId}if(b.isShowFirstPageBtn!=undefined){this.isShowFirstPageBtn=b.isShowFirstPageBtn}if(b.isShowLastPageBtn!=undefined){this.isShowLastPageBtn=b.isShowLastPageBtn}if(b.isShowPrePageBtn!=undefined){this.isShowPrePageBtn=b.isShowPrePageBtn}if(b.isShowNextPageBtn!=undefined){this.isShowNextPageBtn=b.isShowNextPageBtn}if(b.isShowTotalPage!=undefined){this.isShowTotalPage=b.isShowTotalPage}if(b.isShowCurrPage!=undefined){this.isShowCurrPage=b.isShowCurrPage}if(b.isShowTotalRecords!=undefined){this.isShowTotalRecords=b.isShowTotalRecords}if(b.isWrapedPageBtns){this.isWrapedPageBtns=b.isWrapedPageBtns}if(b.isWrapedInfoTextAndGoPageBtn){this.isWrapedInfoTextAndGoPageBtn=b.isWrapedInfoTextAndGoPageBtn}if(b.isGoPage!=undefined){this.isGoPage=b.isGoPage}if(b.lang){for(var a in b.lang){this.lang[a]=b.lang[a]}}this.hrefFormer=b.hrefFormer||"";this.hrefLatter=b.hrefLatter||"";if(b.getLink&&typeof(b.getLink)=="function"){this.getLink=b.getLink}if(b.click&&typeof(b.click)=="function"){this.click=b.click}if(b.getHref&&typeof(b.getHref)=="function"){this.getHref=b.getHref}this._config=b;if(this.pno<1){this.pno=1}this.total=(this.total<=1)?1:this.total;if(this.pno>this.total){this.pno=this.total}this.prv=(this.pno<=2)?1:(this.pno-1);this.next=(this.pno>=this.total-1)?this.total:(this.pno+1);this.hasPrv=(this.pno>1);this.hasNext=(this.pno<this.total);this.inited=true},_getHandlerStr:function(a){if(this.mode=="click"){return'href="'+this.getHref(a)+'" onclick="return kkpager._clickHandler('+a+')"'}return'href="'+this.getLink(a)+'"'},_clickHandler:function(b){var a=false;if(this.click&&typeof this.click=="function"){a=this.click.call(this,b)||false}return a}};