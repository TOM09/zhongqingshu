<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			div{
				width: 100px;
				height: 100px;
				background: red;
			}
		</style>
	</head>
	<body>
		<select id="positionTypeId1" onchange='fn2()'>
			<option value='-1'>====请选择职位类型====</option>
		</select>  
        	
        <select id="positionTypeId2" >
        	<!--<option value='-1'>====请选择职位类型====</option>-->
        </select>  
        <script type="text/javascript" src="js/jquery-1.8.3.min.js">
        </script>
	</body>
</html>
	<script type="text/javascript">
//		$("#positionTypeId1").change(function fn2(){
//			
//		})
		var arr =[{id: 1, createDate: 1525317303000, updateDate: 1525317303000, name: "高级管理", parentId: 0},
					{id: 2, createDate: 1525317303000, updateDate: 1525317303000, name: "总裁助理/总经理助理", parentId: 1},
					{id: 3, createDate: 1525317303000, updateDate: 1525317303000, name: "企业秘书/董事会秘书", parentId: 1},
					{id: 4, createDate: 1525317303000, updateDate: 1525317303000, name: "人力资源", parentId: 0},
					{id: 5, createDate: 1525317303000, updateDate: 1525317303000, name: "首席人力资源官CHO/HRVP", parentId: 4},
					{id:3, createDate: 1525317303000, updateDate: 1525317303000, name: "首席人力资源官CHO/HRVP", parentId: 4},
					{id: 44, createDate: 1525317303000, updateDate: 1525317303000, name: "首席人O/HRVP", parentId: 4},
					{id: 6, createDate: 1525317303000, updateDate: 1525317303000, name: "人总监", parentId: 4}]


//		var cmbProvince = document.getElementById("cmbProvince")
//		var cmbCity = document.getElementById("cmbCity")
//	
//	queryWorkPositionTypeId1(0)
	$(function(){
//  function fn1(){ 
//		for (var i = 0; i < arr.length; i++) {
// 			if(arr[i].parentId == 0){
// 				var option = document.createElement("option");
//         		option.value = arr[i].id;
//          	option.innerHTML = arr[i].name;
//          	positionTypeId1.append(option);
// 			}
// 		}
//ajax("asdfasd",data,function(){
//	function(){
		for (var i = 0; i < arr.length; i++) {
	 			if(arr[i].parentId == 0){
	 				var option = document.createElement("option");
	           		option.value = arr[i].id;
	            	option.innerHTML = arr[i].name;
	            	positionTypeId1.append(option);
	            	console.log(positionTypeId1)
	 			}
	 		}

	})
	
	    function fn2(){
		//option.id
		var data = $("#positionTypeId1").val()
		fn1(data)
	}
	    
	    
function fn1(data){
			console.log(data)
  				var ops="<option value='-1'>====请选择职位类型====</option>";
              	$.each(arr, function(i,msg) {
              		 if (msg.parentId == data) {
						ops +="<option value='"+msg.id+"'>"+msg.name+"</option>";
            		   }
						$("#positionTypeId2").html(ops);
              	});
            }
	
//	 {
//      "p_name": "上海市",
//      "p_id": "sh",
//      "cities": [
//          {
//              "c_name": "闵行区",
//              "c_id": "mh"
//          },
//          {
//              "c_name": "徐汇区",
//              "c_id": "xh"
//          },
//          {
//              "c_name": "黄浦区",
//              "c_id": "hp"
//          },
//          {
//              "c_name": "浦东新区",
//              "c_id": "pd"
//          }
//      ]
	
//	province.onchange = function() {
//          //获取当前点击对象的值
//          var proid = this.value;
//          var cities;
//          //遍历省市数据,把省级下点击的那一个选项的值和省市数据中的
//          //省级数据对比,如果相等,取出当前的市的数据
//          for (var i=0; i<china.length; i++) {
//              if (proid == china[i].p_id) {
//                  cities = china[i].cities;
//              }
//          }
//          //获得市级下拉框对象
//          var city = document.getElementById("city");
//          //每次点击省级后,市级初始化,避免高级重复追加
//          city.innerHTML = "<option value='none'>--请选择市--</option>";
//          //遍历市级数据,并取出市级数据,追加到市级对象中
//          for (var i=0; i<cities.length; i++) {
//              var option = document.createElement("option");
//              option.innerHTML = cities[i].c_name;
//              option.value = cities[i].c_id;
//              city.appendChild(option);
//          }
//        }
	</script>